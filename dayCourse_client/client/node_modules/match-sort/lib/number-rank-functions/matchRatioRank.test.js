"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var matchRatioRank_1 = require("./matchRatioRank");
var numberRank_1 = require("../utils/numberRank");
describe('matchRatioRank', function () {
    it('Returns 0 when the match is exact', function () {
        expect((0, matchRatioRank_1.matchRatioRank)('abc')('abc')).toBe(0);
    });
    it('Returns a better rank if the match is exact than if the wordAcronym match is exact', function () {
        var search = 'abc';
        var acronymMatch = 'ad bd cd';
        var exactRank = (0, matchRatioRank_1.matchRatioRank)(search)(search);
        var acronymRank = (0, matchRatioRank_1.matchRatioRank)(search)(acronymMatch);
        expect((0, numberRank_1.numberRank)(exactRank)).toBeLessThan((0, numberRank_1.numberRank)(acronymRank));
    });
    it('Returns a better rank for a value of which the wordAcronym matches best and better than a value of which the full match matches best', function () {
        var search = 'abc';
        var acronymMatch = 'ad bd cd dd';
        var fullMatch = 'abcde';
        var acronymRank = (0, matchRatioRank_1.matchRatioRank)(search)(acronymMatch);
        var fullMatchRank = (0, matchRatioRank_1.matchRatioRank)(search)(fullMatch);
        expect((0, numberRank_1.numberRank)(acronymRank)).toBeLessThan((0, numberRank_1.numberRank)(fullMatchRank));
    });
    it('Returns a better rank for a value of which the full match matches best and better than a value of which the wordAcronym matches best', function () {
        var search = 'abc';
        var acronymMatch = 'ad bd cd dd ed';
        var fullMatch = 'abcd';
        var acronymRank = (0, matchRatioRank_1.matchRatioRank)(search)(acronymMatch);
        var fullMatchRank = (0, matchRatioRank_1.matchRatioRank)(search)(fullMatch);
        expect((0, numberRank_1.numberRank)(fullMatchRank)).toBeLessThan((0, numberRank_1.numberRank)(acronymRank));
    });
    test('General ranking', function () {
        var us = 'us';
        var usa = 'usa';
        var usoa = 'usoa';
        var unitedStates = 'united states';
        var theUnitedStates = 'the united states';
        var unitedStatesAmerica = 'united states america';
        var unitedStatesOfAmerica = 'united states of america';
        var theUnitedStatesOfAmerica = 'the united states of america';
        var unitedStatesWithDash = 'united-states';
        var unitedStatesAmericaWithDash = 'united-states-america';
        var unitedStatesOfAmericaWithDash = 'united-states-of-america';
        var theUnitedStatesOfAmericaWithDash = 'the-united-states-of-america';
        var values = [
            theUnitedStates,
            theUnitedStatesOfAmerica,
            theUnitedStatesOfAmericaWithDash,
            unitedStates,
            unitedStatesAmerica,
            unitedStatesAmericaWithDash,
            unitedStatesOfAmerica,
            unitedStatesOfAmericaWithDash,
            unitedStatesWithDash,
            us,
            usa,
            usoa,
        ];
        var search = 'us';
        var rankFunction = (0, matchRatioRank_1.matchRatioRank)(search);
        var sorted = values.sort(function (a, b) {
            var rankA = rankFunction(a);
            var rankB = rankFunction(b);
            return (0, numberRank_1.numberRank)(rankA) - (0, numberRank_1.numberRank)(rankB);
        });
        var expectedResult = [
            us,
            unitedStatesWithDash,
            unitedStates,
            usa,
            unitedStatesAmericaWithDash,
            theUnitedStates,
            unitedStatesAmerica,
            usoa,
            unitedStatesOfAmericaWithDash,
            unitedStatesOfAmerica,
            theUnitedStatesOfAmericaWithDash,
            theUnitedStatesOfAmerica,
        ];
        expect(sorted).toEqual(expectedResult);
    });
});
