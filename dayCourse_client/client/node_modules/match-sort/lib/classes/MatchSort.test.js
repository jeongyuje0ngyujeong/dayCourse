"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var MatchSort_1 = require("./MatchSort");
describe('MatchSort', function () {
    var match = function (search) { return function (value) { return search === value; }; };
    var filter = function () { return function (value) { return value !== 'ghi' && value !== '6'; }; };
    var matchSorter = new MatchSort_1.MatchSort().chain(match).setFilter(filter);
    var array = ['ABC', 'abc', 'DEF', 'def', 'GHI', 'ghi'];
    describe('makeSorter', function () {
        it('Creates a sorter object that applies the given match function', function () {
            var sorter = matchSorter.makeSorter('def');
            expect(sorter.sort(array)).toEqual(['def', 'ABC', 'abc', 'DEF', 'GHI', 'ghi']);
        });
    });
    describe('sort', function () {
        it('Sorts the items using the match function', function () {
            var result = matchSorter.sort('def', array);
            expect(result).toEqual(['def', 'ABC', 'abc', 'DEF', 'GHI']);
        });
    });
    describe('onProperty', function () {
        it('Creates a new MatchSort that applies the match function to the given property', function () {
            var array = [
                { id: '1', name: 'ABC' },
                { id: '2', name: 'abc' },
                { id: '3', name: 'DEF' },
                { id: '4', name: 'def' },
                { id: '5', name: 'GHI' },
                { id: '6', name: 'ghi' },
            ];
            var sorter = matchSorter.onProperty('name');
            var result = sorter.sort('def', array);
            expect(result).toEqual([
                { id: '4', name: 'def' },
                { id: '1', name: 'ABC' },
                { id: '2', name: 'abc' },
                { id: '3', name: 'DEF' },
                { id: '5', name: 'GHI' },
            ]);
        });
    });
    describe('onList', function () {
        it('Creates a new MatchSort that applies the match function to the items of the list', function () {
            var array = [
                ['1', 'ABC'],
                ['2', 'abc'],
                ['3', 'DEF'],
                ['4', 'def'],
                ['5', 'GHI'],
                ['6', 'ghi'],
            ];
            var sorter = matchSorter.onList();
            var result = sorter.sort('def', array);
            expect(result).toEqual([
                ['4', 'def'],
                ['1', 'ABC'],
                ['2', 'abc'],
                ['3', 'DEF'],
                ['5', 'GHI'],
            ]);
        });
    });
});
